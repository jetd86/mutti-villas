import{M as w,b as f,D as y,o as g,h as b,f as M}from"./bootstrap.esm.BhdEQdNh.js";const h={whatsapp:{phone:"66988606410",defaultText:"Здравствуйте! Хочу уточнить по виллам."},telegram:{username:"+66988606410"},line:{username:"66988606410"}};function L(){const{phone:o,defaultText:n}=h.whatsapp,e=document.createElement("a");e.href=`https://wa.me/${o}?text=${encodeURIComponent(n)}`,e.className="whatsapp-float",e.setAttribute("aria-label","Открыть чат в WhatsApp"),e.setAttribute("target","_blank"),e.innerHTML='<i class="bi bi-whatsapp"></i>',e.style.opacity="0",e.style.transition="opacity 0.3s ease",document.body.appendChild(e),window.addEventListener("scroll",()=>{e.style.opacity=window.scrollY>100?"1":"0"});const a=document.getElementById("mainModal");a&&(a.addEventListener("show.bs.modal",()=>{e.style.display="none"}),a.addEventListener("hidden.bs.modal",()=>{e.style.display=""}))}function E(o="[data-messenger]"){document.querySelectorAll(o).forEach(n=>{n.addEventListener("click",e=>{var i,p,s;e.preventDefault();const a=n.dataset.messenger,d=encodeURIComponent(n.dataset.text||"");let t=null;switch(a){case"whatsapp":{t=`https://wa.me/${n.dataset.phone||((i=h.whatsapp)==null?void 0:i.phone)}`,d&&(t+=`?text=${d}`);break}case"telegram":{t=`https://t.me/${n.dataset.username||((p=h.telegram)==null?void 0:p.username)}`;break}case"line":{t=`https://line.me/R/ti/p/~${n.dataset.username||((s=h.line)==null?void 0:s.username)}`;break}case"youtube":{t="https://www.youtube.com/@Mutti-p7z";break}case"facebook":{t="https://www.facebook.com/Mutti.Villas";break}case"instagram":{t="https://www.instagram.com/mutti.villas";break}case"wechat":{const l=document.getElementById("mainModal"),c=l.querySelector("#mainModalTitle"),u=l.querySelector("#mainModalBody"),m=document.getElementById("wechat-qr");c&&(c.textContent="WeChat"),u.innerHTML=m?m.innerHTML:"<p>QR-код не найден</p>";const r=w.getOrCreateInstance(l);setTimeout(()=>r.show(),0);return}default:console.warn(`Неподдерживаемый мессенджер: ${a}`);return}t&&window.open(t,"_blank")})})}function T({modalSelector:o="#mainModal",titleSelector:n="#mainModalTitle",bodySelector:e="#mainModalBody"}={}){const a=document.querySelector(o);if(!a)return;const d=a.querySelector(n),t=a.querySelector(e),i=a.querySelector(".modal-dialog");a.addEventListener("show.bs.modal",p=>{const s=p.relatedTarget;if(!s)return;const l=s.dataset.title,c=s.dataset.content,u=s.dataset.url,m=s.dataset.size;if(d&&(d.textContent=l||""),i&&(i.classList.remove("modal-sm","modal-lg","modal-xl"),["sm","lg","xl"].includes(m)&&i.classList.add(`modal-${m}`)),c){const r=document.getElementById(c);t.innerHTML=r?r.innerHTML:'<p class="text-danger">Контент не найден</p>'}u&&(t.innerHTML="<p>Загрузка...</p>",fetch(u).then(r=>r.text()).then(r=>{t.innerHTML=r}).catch(()=>{t.innerHTML='<p class="text-danger">Ошибка загрузки</p>'}))})}window.bootstrap=f;document.querySelectorAll("img:not([loading])").forEach(o=>o.setAttribute("loading","lazy"));document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(o=>new y(o));document.addEventListener("DOMContentLoaded",()=>{g(),b(),M(),T(),L(),E()});
