import{M as y,b as h,D as f,o as g,h as w,f as L}from"./bootstrap.esm.BhdEQdNh.js";const M={whatsapp:{phone:"66988606410",defaultText:"Здравствуйте! Хочу уточнить по виллам."}};function E(){const{phone:o,defaultText:d}=M.whatsapp,t=document.createElement("a");t.href=`https://wa.me/${o}?text=${encodeURIComponent(d)}`,t.className="whatsapp-float",t.setAttribute("aria-label","Открыть чат в WhatsApp"),t.setAttribute("target","_blank"),t.innerHTML='<i class="bi bi-whatsapp"></i>',t.style.opacity="0",t.style.transition="opacity 0.3s ease",document.body.appendChild(t),window.addEventListener("scroll",()=>{t.style.opacity=window.scrollY>100?"1":"0"});const e=document.getElementById("mainModal");e&&(e.addEventListener("show.bs.modal",()=>{t.style.display="none"}),e.addEventListener("hidden.bs.modal",()=>{t.style.display=""}))}function b(o='[data-messenger="wechat"]'){document.querySelectorAll(o).forEach(d=>{d.addEventListener("click",t=>{t.preventDefault();const e=document.getElementById("mainModal"),n=e.querySelector("#mainModalTitle"),a=e.querySelector("#mainModalBody"),s=document.getElementById("wechat-qr");n&&(n.textContent="WeChat"),a.innerHTML=s?s.innerHTML:"<p>QR-код не найден</p>";const r=y.getOrCreateInstance(e);setTimeout(()=>r.show(),0)})})}function T({modalSelector:o="#mainModal",titleSelector:d="#mainModalTitle",bodySelector:t="#mainModalBody"}={}){const e=document.querySelector(o);if(!e)return;const n=e.querySelector(d),a=e.querySelector(t),s=e.querySelector(".modal-dialog");e.addEventListener("show.bs.modal",r=>{const i=r.relatedTarget;if(!i)return;const u=i.dataset.title,c=i.dataset.content,m=i.dataset.url,p=i.dataset.size;if(n&&(n.textContent=u||""),s&&(s.classList.remove("modal-sm","modal-lg","modal-xl"),["sm","lg","xl"].includes(p)&&s.classList.add(`modal-${p}`)),c){const l=document.getElementById(c);a.innerHTML=l?l.innerHTML:'<p class="text-danger">Контент не найден</p>'}m&&(a.innerHTML="<p>Загрузка...</p>",fetch(m).then(l=>l.text()).then(l=>{a.innerHTML=l}).catch(()=>{a.innerHTML='<p class="text-danger">Ошибка загрузки</p>'}))})}window.bootstrap=h;document.querySelectorAll("img:not([loading])").forEach(o=>o.setAttribute("loading","lazy"));document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(o=>new f(o));document.addEventListener("DOMContentLoaded",()=>{g(),w(),L(),T(),E(),b()});
