<? namespace Bitrix\Main\UpdateSystem;$GLOBALS['____740308670']= array(base64_decode(''.'a'.'XNfd3JpdGFibG'.'U='),base64_decode('Zm9'.'wZW4='),base64_decode('ZndyaX'.'R'.'l'),base64_decode('Zm'.'Ns'.'b3N'.'l'),base64_decode('a'.'W50dmF'.'s'),base64_decode('aW5'.'0dmFs'),base64_decode(''.'aXNfd3JpdGFibGU='),base64_decode('Zm9wZW4'.'='),base64_decode('ZnB1dHM='),base64_decode('Zm'.'Nsb3Nl'));if(!function_exists(__NAMESPACE__.'\\___540924278')){function ___540924278($_293743115){static $_935359964= false; if($_935359964 == false) $_935359964=array('R'.'V'.'J'.'ST1I=','R'.'VJ'.'ST'.'1'.'I=',''.'X1ZBTF'.'VF','VW5rbm93biBlcnJ'.'v'.'cg'.'==','IFtBU'.'1I'.'wMV0=','U'.'kV'.'OVA==',''.'Tm9'.'0IGZvdW5kIGxp'.'Y'.'2'.'Vuc'.'2Uga'.'W5mbyB'.'bQVN'.'SMDJ'.'d','VjE'.'=','Vj'.'I=','VjE=','VjI=','U'.'2V'.'y'.'dmVy'.'IHJ'.'lc3Bvb'.'nNlIGlzIG5vdCByZWNvZ25pemVkIFtB'.'U0'.'FMST'.'Ax'.'XQ==','bWFpbg==','YWRtaW5fcG'.'F'.'zc3d'.'vcmRo',''.'RE9DVU'.'1FTlRf'.'Uk9P'.'VA='.'=','L2JpdHJp'.'e'.'C9t'.'b2R1bGVzL21'.'haW4v'.'YW'.'RtaW4=','RE9DVU1FTlRfUk'.'9'.'PVA==','L2J'.'pdHJpeC'.'9'.'tb2'.'R'.'1bGVz'.'L2'.'1haW4vYWRtaW4'.'v'.'Z'.'G'.'VmaW5lLnBo'.'cA==','dw==','PA==','P0Rl'.'Zml'.'uZSgiVEVNU'.'E9SQV'.'JZX0NBQ0hFIiwgIg==',''.'Iik7Pw='.'=','Pg='.'=','Rm'.'lsZ'.'SBvcG'.'Vu'.'IG'.'ZhaWxzIFtBU0'.'FMSTAyXQ==','Rm9sZGVy'.'IGlzIG5vdCB3cm'.'l0YWJsZSB'.'b'.'QVNBTEkwM10'.'=','REFURV9UT19'.'T'.'T'.'1V'.'SQ0'.'U=','bW'.'Fpb'.'g==','f'.'nN1'.'cHBvcnRfZmluaXNoX2Rhd'.'GU=',''.'R'.'EFURV9U'.'T19TT'.'1VSQ0U=','TUFY'.'X'.'1NJV'.'EVT','bWFpb'.'g'.'==','U'.'EFS'.'Q'.'U1fTUFYX1NJ'.'VEVT','TUFYX1NJVE'.'V'.'T','T'.'UFYX'.'1V'.'TRV'.'JT','bWFp'.'bg==','U'.'EFS'.'QU1f'.'T'.'UFYX1VTRVJT',''.'TUFYX1VT'.'R'.'V'.'J'.'T','TUFYX1VTRVJTX1NUUklORw'.'==',''.'bWFp'.'bg'.'==','flBBUkFNX01B'.'WF9V'.'U0VSU'.'w==','TUFYX1'.'V'.'TR'.'VJTX1NUUklOR'.'w'.'==',''.'REFURV9UT19TT'.'1VSQ0V'.'fU1R'.'SSU5'.'H','bWFpbg==','f'.'lB'.'BUkFNX0Z'.'J'.'TklTS'.'F9EQ'.'VRF','REFURV'.'9'.'UT'.'19TT1VSQ'.'0VfU'.'1RSSU5H','SVNMQw='.'=','RE9DVU1FTlRfU'.'k9'.'P'.'V'.'A='.'=','L2'.'JpdHJpeA==','RE9D'.'VU1'.'FTlRfUk9PVA'.'==','L'.'2Jpd'.'HJpeC9'.'sa'.'WN'.'l'.'bnNlX2'.'tle'.'S5waH'.'A=',''.'d'.'2I=','P'.'A'.'==','PyRMSUN'.'F'.'TlNFX'.'0'.'tFWS'.'A9IC'.'I'.'=',''.'Ijs'.'/','P'.'g==','Rm'.'ls'.'ZSBvcG'.'V'.'uIGZhaW'.'xzIFtBU0FMSTA0XQ==','Rm9sZGVyI'.'G'.'l'.'zIG'.'5'.'vdCB'.'3'.'cml0YWJsZSBb'.'QVNBTEkwNV0=','Tm90IGZ'.'vdW5k'.'IGxpY2Vuc2Ug'.'aW5mbyB'.'bQVNB'.'SD'.'AxXQ==','cm'.'VzdWx0','cmVzdWx0','ZXJyb'.'3I=','bW'.'Vzc'.'2FnZ'.'Q==','RXJyb'.'3Igc2V'.'uZCBwYXJ0bmV'.'yIGluZ'.'m8gW0F'.'TU0lUUD'.'A'.'xXQ==','cmVz'.'cG9uc2'.'U=','c'.'mVxdWVzd'.'A==','ZX'.'Jyb3I=','VW5'.'rb'.'m93biBlcnJvcg==','IFtB'.'U1NJVFAwMV0=');return base64_decode($_935359964[$_293743115]);}}; use Bitrix\Main\Application; use Bitrix\Main\Result; use Bitrix\Main\Security\SecurityException; use Bitrix\Main\SystemException; use Bitrix\Main\Web\Json; class ActivationSystem{  public function reincarnate(Coupon $_1709126658): Result{  $_737586912= new ReincarnationRequestBuilder($_1709126658); $_1298685142=(new RequestFactory($_737586912))->build();  $_1161787248= $_1298685142->send();  $_1861455341= new UpdateServerDataParser($_1161787248); $_13696179= $_1861455341->parse(); if(isset($_13696179[___540924278(0)])){ throw new SystemException(($_13696179[___540924278(1)][___540924278(2)] ?? ___540924278(3)).___540924278(4));} $_13696179= $_13696179[___540924278(5)] ??[]; if(empty($_13696179)){ throw new SystemException(___540924278(6));} $this->applyLicenseInfo($_13696179, $_1709126658->getKey()); $_1770233795= new Result(); return $_1770233795->setData($_13696179);}  protected function applyLicenseInfo(array $_13696179, string $_1043524949): void{ if(isset($_13696179[___540924278(7)], $_13696179[___540924278(8)])){ $_1832732756= $_13696179[___540924278(9)]; $_748485536= $_13696179[___540924278(10)]; if(empty($_1832732756) || empty($_748485536)){ throw new SystemException(___540924278(11));} \COption::SetOptionString(___540924278(12), ___540924278(13), $_1832732756); if($GLOBALS['____740308670'][0]($_SERVER[___540924278(14)].___540924278(15))){ if($_1179374648= $GLOBALS['____740308670'][1]($_SERVER[___540924278(16)].___540924278(17), ___540924278(18))){ $GLOBALS['____740308670'][2]($_1179374648, ___540924278(19).___540924278(20).$_748485536.___540924278(21).___540924278(22)); $GLOBALS['____740308670'][3]($_1179374648);} else{ throw new SystemException(___540924278(23));}} else{ throw new SystemException(___540924278(24));}} if(isset($_13696179[___540924278(25)])){ \COption::SetOptionString(___540924278(26), ___540924278(27), $_13696179[___540924278(28)]);} if(isset($_13696179[___540924278(29)])){ \COption::SetOptionString(___540924278(30), ___540924278(31), $GLOBALS['____740308670'][4]($_13696179[___540924278(32)]));} if(isset($_13696179[___540924278(33)])){ \COption::SetOptionString(___540924278(34), ___540924278(35), $GLOBALS['____740308670'][5]($_13696179[___540924278(36)]));} if(isset($_13696179[___540924278(37)])){ \COption::SetOptionString(___540924278(38), ___540924278(39), $_13696179[___540924278(40)]);} if(isset($_13696179[___540924278(41)])){ \COption::SetOptionString(___540924278(42), ___540924278(43), $_13696179[___540924278(44)]);} if(isset($_13696179[___540924278(45)])){ if($GLOBALS['____740308670'][6]($_SERVER[___540924278(46)].___540924278(47))){ if($_1179374648= $GLOBALS['____740308670'][7]($_SERVER[___540924278(48)].___540924278(49), ___540924278(50))){ $GLOBALS['____740308670'][8]($_1179374648, ___540924278(51).___540924278(52).EscapePHPString($_1043524949).___540924278(53).___540924278(54)); $GLOBALS['____740308670'][9]($_1179374648);} else{ throw new SystemException(___540924278(55));}} else{ throw new SystemException(___540924278(56));}}}  public function activateByHash(string $_858371890): Result{ $_1861455341= new HashCodeParser($_858371890); $_13696179= $_1861455341->parse(); if(empty($_13696179)){ throw new SystemException(___540924278(57));} $_1043524949= Application::getInstance()->getLicense()->getKey(); $this->applyLicenseInfo($_13696179, $_1043524949); $_1770233795= new Result(); return $_1770233795->setData($_13696179);}  public function sendInfoToPartner(string $_559139907, string $_22871052, string $_58135306): Result{ $_737586912= new PartnerInfoRequestBuilder($_559139907, $_22871052, $_58135306); $_1298685142=(new RequestFactory($_737586912))->build();  $_1161787248= $_1298685142->send(); $_1161787248= Json::decode($_1161787248); if(!isset($_1161787248[___540924278(58)]) || $_1161787248[___540924278(59)] === ___540924278(60)){ $_1610148870=[ ___540924278(61) => ___540924278(62), ___540924278(63) => $_1161787248, ___540924278(64) => $_1298685142]; throw new SystemException(($_1161787248[___540924278(65)] ?? ___540924278(66)).___540924278(67));} return(new Result())->setData($_1161787248);}}?>