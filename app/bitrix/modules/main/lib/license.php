<? namespace Bitrix\Main;$GLOBALS['____1621042778']= array(base64_decode('ZmlsZV9leGlzdH'.'M='),base64_decode(''.'c'.'3Ry'.'dG9'.'1cHBlcg=='),base64_decode('bW'.'Q1'),base64_decode('bWQ1'),base64_decode('aW5f'.'Y'.'XJyYXk='),base64_decode('a'.'W'.'5fYX'.'Jy'.'YXk='),base64_decode('aW5fYXJ'.'yY'.'Xk='),base64_decode('ZGVmaW5'.'lZA=='),base64_decode('Z'.'GV'.'maW5'.'lZA='.'='),base64_decode(''.'ZGVmaW5lZA=='),base64_decode('ZmlsZV9leGlzdHM'.'='),base64_decode(''.'Z'.'mlsZ'.'V'.'9'.'leGlzdHM='),base64_decode(''.'ZmlsZV9leGlzdHM'.'='),base64_decode('ZmlsZV9leG'.'l'.'z'.'dHM='),base64_decode('Z'.'Xhw'.'bG9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___1775303862')){function ___1775303862($_1564286651){static $_622987813= false; if($_622987813 == false) $_622987813=array(''.'L2Jp'.'dHJpeC9'.'saWNlb'.'nNlX2tleS5w'.'aHA=','','','REVNTw'.'='.'=','R'.'EVN'.'Tw==','Qk'.'lUUklY','T'.'ElDRU'.'5DRQ==','REV'.'NTw==','L2tleV9'.'1cGRhd'.'GUucGhwP2'.'xpY2'.'Vuc2Vfa'.'2V5P'.'Q==','JnRvYm'.'Fza2V'.'0PXkm'.'b'.'GFuZz0=','cnU=','a3o=','Yn'.'k=','aHR0cH'.'M6Ly9k'.'Z'.'XYuMWMtYml0'.'cml4'.'LnJ1L2xlYX'.'JuaW'.'5nL2NvdX'.'JzZ'.'S9pbm'.'Rle'.'C5w'.'aHA/Q09VUl'.'NFX0lEPTEzNS'.'ZMRVNTT'.'0'.'5fSU'.'Q9MjU3MjA=','aHR'.'0cHM6L'.'y9'.'0cmF'.'p'.'bm'.'l'.'uZy5ia'.'X'.'RyaXgyNC5jb'.'20v'.'c3VwcG9'.'yd'.'C90'.'cmFpb'.'ml'.'uZy'.'9jb3Vyc'.'2Uva'.'W5k'.'ZXg'.'ucGh'.'wP0NPVVJT'.'RV'.'9JRD'.'0xN'.'zgmTEVTU09'.'OX0lEPTI1O'.'TM'.'yJ'.'kx'.'FU1N'.'P'.'Tl9'.'QQVRIPTE3'.'NTIwL'.'j'.'E3'.'NTY'.'yLjI'.'1O'.'TMw'.'L'.'j'.'I'.'1OTMy',''.'cn'.'U=','Yn'.'k=','a3o=','ZGU'.'=','Z'.'XU'.'=',''.'ZnI'.'=',''.'c'.'G'.'w=',''.'aXQ'.'=','dWs=','Z'.'X'.'U=','Y29'.'t','ZW4=','RE'.'VNTw==','WQ'.'==','VEl'.'NRUxJTUlUX'.'0V'.'ESVRJT04'.'=','WQ==','RU5DT0RF','WQ'.'==',''.'U2'.'l0ZUV4c'.'GlyZU'.'Rhd'.'G'.'U'.'=','bWFp'.'bg==','fnN'.'1'.'cHB'.'v'.'cn'.'RfZmlu'.'a'.'X'.'NoX2RhdGU=','W'.'S1'.'tLWQ=','W'.'S1tLWQ'.'=','Y'.'ml0cml4M'.'jQ=','b'.'W'.'Fp'.'bg='.'=','flBBU'.'k'.'FNX0NMSUVOVF9MQ'.'U5'.'H','aW50cmF'.'uZXQ=','Z'.'W4=','cnU=','bWFpbg==',''.'dm'.'Vu'.'ZG9'.'y',''.'dWFf'.'Yml0'.'cml'.'4X3'.'Bvcn'.'RhbA'.'==','dWE=','Yml0cml4X3BvcnRhbA==','ZW'.'4'.'=','M'.'WNfYm'.'l0cm'.'l4X'.'3BvcnRhbA='.'=','c'.'nU=','L2Jpd'.'HJpeC9'.'tb2R1bG'.'Vz'.'L2'.'1h'.'aW4'.'vb'.'G'.'FuZy'.'91YQ==','dWE=','L2JpdHJpeC9t'.'b2R1bGV'.'zL21'.'h'.'aW4vbGFuZy9ieQ==','Ynk=','L2'.'JpdHJpe'.'C9tb2R1'.'bGVzL21haW4v'.'b'.'G'.'FuZy9r'.'eg'.'==','a3o'.'=','L2JpdHJpeC9'.'tb2'.'R1'.'b'.'GVzL21haW4vbGFuZ'.'y9y'.'dQ==','cnU=','bW'.'Fpb'.'g='.'=',''.'flB'.'B'.'UkFNX1BB'.'UlRORVJfSUQ=','bWFpbg'.'='.'=',''.'U'.'E'.'FSQU1fTUFY'.'X1VTRVJT',''.'bWFpbg==','fk'.'NPVU5UX0VYV'.'FJB',''.'Tg==','WQ==','Z'.'X'.'h0cmF'.'u'.'ZXQ'.'=',''.'QU'.'5EIFUuTEF'.'TVF9'.'MT0dJTiA+I'.'A==','QU5'.'EIFUuTEF'.'TVF9'.'MT0dJ'.'TiB'.'J'.'U'.'yBOT1QgTl'.'V'.'MTA'.'==','aW50c'.'mFuZXQ=',''.'Z'.'Xh0'.'cmFuZXQ=','ZXh0cmFuZ'.'XRfZ3JvdXA=',''.'bWFp'.'bg==','fmx'.'pY2'.'Vuc'.'2Vfb'.'mFt'.'Z'.'Q==','b'.'WFpbg==',''.'fm'.'xpY'.'2'.'Vuc2'.'Vf'.'Y29'.'kZXM=','',''.'LA==');return base64_decode($_622987813[$_1564286651]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1026169357= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1026169357 === null){ $_352296213= Loader::getDocumentRoot(). ___1775303862(0); $LICENSE_KEY= ___1775303862(1); if($GLOBALS['____1621042778'][0]($_352296213)){ include($_352296213);} $this->_1026169357=($LICENSE_KEY == ___1775303862(2) || $GLOBALS['____1621042778'][1]($LICENSE_KEY) == ___1775303862(3)? ___1775303862(4): $LICENSE_KEY);} return $this->_1026169357;} public function getHashLicenseKey(): string{ return $GLOBALS['____1621042778'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1621042778'][3](___1775303862(5). $this->getKey(). ___1775303862(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1775303862(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1775303862(8). $this->getHashLicenseKey(). ___1775303862(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_711612109= $this->getRegion(); if($GLOBALS['____1621042778'][4]($_711612109,[___1775303862(10), ___1775303862(11), ___1775303862(12)])){ return ___1775303862(13);} return ___1775303862(14);} public function getRenewalLink(): string{ $_711612109= $this->getRegion(); if($GLOBALS['____1621042778'][5]($_711612109,[___1775303862(15), ___1775303862(16), ___1775303862(17), ___1775303862(18)])){ return self::URL_RENEWAL_LICENSE[$_711612109];} if($GLOBALS['____1621042778'][6]($_711612109,[___1775303862(19), ___1775303862(20), ___1775303862(21), ___1775303862(22), ___1775303862(23)])){ return self::URL_RENEWAL_LICENSE[___1775303862(24)];} return self::URL_RENEWAL_LICENSE[___1775303862(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1775303862(26)];} public function isDemo(): bool{ return $GLOBALS['____1621042778'][7](___1775303862(27)) && DEMO === ___1775303862(28);} public function isTimeBound(): bool{ return $GLOBALS['____1621042778'][8](___1775303862(29)) && TIMELIMIT_EDITION === ___1775303862(30);} public function isEncoded(): bool{ return $GLOBALS['____1621042778'][9](___1775303862(31)) && ENCODE === ___1775303862(32);} public function getExpireDate():?Date{ $_771386963= (int)($GLOBALS[___1775303862(33)] ??(168*2-336)); if($_771386963>(1156/2-578)){ return Date::createFromTimestamp($_771386963);} return null;} public function getSupportExpireDate():?Date{ $_771386963= Option::get(___1775303862(34), ___1775303862(35)); if(Date::isCorrect($_771386963, ___1775303862(36))){ return new Date($_771386963, ___1775303862(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1775303862(38))){ return \CBitrix24::getPortalZone();} $_711612109= Option::get(___1775303862(39), ___1775303862(40)); if(!empty($_711612109)){ return $_711612109;} $_711612109= $this->__1401181068(); if(!empty($_711612109)){ return $_711612109;} return $this->__1654307643();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1775303862(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1775303862(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1775303862(43)];} private function __1401181068():?string{ $_622718645= Option::get(___1775303862(44), ___1775303862(45)); if($_622718645 === ___1775303862(46)){ return ___1775303862(47);} if($_622718645 === ___1775303862(48)){ return ___1775303862(49);} if($_622718645 === ___1775303862(50)){ return ___1775303862(51);} return null;} private function __1654307643():?string{ $_1547813393= Application::getDocumentRoot(); if($GLOBALS['____1621042778'][10]($_1547813393. ___1775303862(52))){ return ___1775303862(53);} if($GLOBALS['____1621042778'][11]($_1547813393. ___1775303862(54))){ return ___1775303862(55);} if($GLOBALS['____1621042778'][12]($_1547813393. ___1775303862(56))){ return ___1775303862(57);} if($GLOBALS['____1621042778'][13]($_1547813393. ___1775303862(58))){ return ___1775303862(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1775303862(60), ___1775303862(61),(800-2*400));} public function getMaxUsers(): int{ return (int)Option::get(___1775303862(62), ___1775303862(63),(231*2-462));} public function isExtraCountable(): bool{ return Option::get(___1775303862(64), ___1775303862(65), ___1775303862(66)) === ___1775303862(67) && ModuleManager::isModuleInstalled(___1775303862(68));} public function getActiveUsersCount(Date $_267897065= null): int{ $_1296801432= Application::getConnection(); $_420270239=(147*2-294); if($_267897065 !== null){  $_825347336= ___1775303862(69).$_1296801432->getSqlHelper()->convertToDbDate($_267897065);} else{  $_825347336= ___1775303862(70);} if(ModuleManager::isModuleInstalled(___1775303862(71))){ $_599309570="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_825347336}
			"; $_420270239= (int)$_1296801432->queryScalar($_599309570); $_1651912483= (int)Option::get(___1775303862(72), ___1775303862(73)); if($_1651912483>(910-2*455) && $this->isExtraCountable()){ $_599309570="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1651912483}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_825347336}
							AND D.VALUE_ID IS NULL
					"; $_420270239 += (int)$_1296801432->queryScalar($_599309570);}} return $_420270239;}  public function getName(): string{ return Option::get(___1775303862(74), ___1775303862(75));}  public function getCodes(): array{ $_1831708544= Option::get(___1775303862(76), ___1775303862(77)); if($_1831708544 != ___1775303862(78)){ return $GLOBALS['____1621042778'][14](___1775303862(79), $_1831708544);} return[];}}?>